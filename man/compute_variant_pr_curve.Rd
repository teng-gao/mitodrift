% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics.R
\name{compute_variant_pr_curve}
\alias{compute_variant_pr_curve}
\title{Compute variant-to-tree precision/recall/F1 curve across confidence cutoffs}
\usage{
compute_variant_pr_curve(
  phy_annot,
  mut_dat,
  min_vaf = 0.01,
  min_cells = 2,
  j_thres = 0.66,
  n_points = 50,
  ncores = 1
)
}
\arguments{
\item{phy_annot}{A rooted \code{phylo} object with clade confidence stored in
\code{node.label}.}

\item{mut_dat}{Long-format mutation table containing at least columns
\code{cell}, \code{variant}, \code{a}, and \code{d}.}

\item{min_vaf}{Minimum VAF used when defining variant-positive cells
(default \code{0.01}).}

\item{min_cells}{Minimum number of variant-positive cells required for a
variant to be evaluated (default \code{2}).}

\item{j_thres}{Jaccard threshold for declaring a match between a variant
split and a tree clade (default \code{0.66}).}

\item{n_points}{Number of confidence cutoffs to evaluate (default
\code{50}).}

\item{ncores}{Number of cores for sweeping confidence cutoffs. Uses
\code{parallel::mclapply} when \code{ncores > 1} on non-Windows systems.}
}
\value{
A data frame with columns \code{conf_cutoff}, \code{n_pred},
\code{n_tp}, \code{n_tru}, \code{n_recover}, \code{precision},
\code{recall}, \code{f1}, and \code{fraction_well_matched}.
}
\description{
Construct a variant VAF matrix from long-format mutation counts, compare
variant partitions against tree clades using Jaccard similarity, and sweep
node-confidence cutoffs to summarize precision, recall, and F1.
}
